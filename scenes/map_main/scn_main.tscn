[gd_scene load_steps=17 format=3 uid="uid://bs85avyhlrhvh"]

[ext_resource type="PackedScene" uid="uid://bgf6vpi3tfeyu" path="res://game_object/entities/player/ent_player.tscn" id="1_dbp7y"]
[ext_resource type="Script" path="res://scenes/map_main/scn_main.gd" id="1_dk0tg"]
[ext_resource type="PackedScene" uid="uid://dq0ebhjo5106d" path="res://GUI/screens/HUD/hud.tscn" id="2_62yup"]
[ext_resource type="PackedScene" uid="uid://cin1kdk0lpkoo" path="res://systems/NDE_city_system.tscn" id="3_oxdsq"]
[ext_resource type="PackedScene" uid="uid://b0d724nquytkd" path="res://game_object/spawner/pth_spawner.tscn" id="4_32ley"]
[ext_resource type="Resource" uid="uid://dfnn505tq0t6" path="res://game_object/vague/wave_1.tres" id="5_6w6nt"]
[ext_resource type="Resource" uid="uid://dmxgnck8ri62o" path="res://game_object/vague/wave_2.tres" id="6_hl5xh"]
[ext_resource type="PackedScene" uid="uid://difcmms6260yt" path="res://game_object/despawner/a3d_despawner.tscn" id="7_fcy4u"]
[ext_resource type="Resource" uid="uid://by612v2dc0nfj" path="res://game_object/vague/wave_3.tres" id="8_kx0xk"]
[ext_resource type="PackedScene" uid="uid://c1hur8xtqfsk" path="res://models/valley_of_death/valley_de_la_mort_collision.tscn" id="8_xrhlb"]
[ext_resource type="Resource" uid="uid://dbyt76e4rajwv" path="res://game_object/vague/wave_4.tres" id="9_g8l4i"]
[ext_resource type="Resource" uid="uid://6rixq76krgtu" path="res://game_object/vague/wave_5.tres" id="10_r2knn"]
[ext_resource type="PackedScene" uid="uid://be4s1fm7846ju" path="res://game_object/entities/npc/npc_mahaut.tscn" id="13_kff1p"]

[sub_resource type="Environment" id="Environment_ttq1c"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ffs7m"]
vertices = PackedVector3Array(-76.696, 1.24878, -2.46274, -76.696, 1.24878, 4.28726, -66.196, 1.24878, 4.28726, -66.196, 1.24878, -9.21274, -76.696, 1.24878, -9.21274, -76.696, 1.24878, -2.46274, -2.446, 1.24878, 4.28726, 8.304, 1.24878, 4.28726, 8.304, 1.24878, -2.46274, 8.304, 1.24878, -2.46274, 8.304, 1.24878, -9.21274, -2.446, 1.24878, -9.21274, -2.446, 1.24878, 4.28726, 8.304, 1.24878, -2.46274, -2.446, 1.24878, -9.21274, -12.946, 1.24878, -9.21274, -12.946, 1.24878, 4.28726, -66.196, 1.24878, -9.21274, -76.696, 1.24878, -2.46274, -66.196, 1.24878, 4.28726, -55.446, 1.24878, 4.28726, -55.446, 1.24878, -9.21274, -44.946, 1.24878, 4.28726, -34.196, 1.24878, 4.28726, -34.196, 1.24878, -9.21274, -44.946, 1.24878, -9.21274, -55.446, 1.24878, 4.28726, -44.946, 1.24878, 4.28726, -44.946, 1.24878, -9.21274, -55.446, 1.24878, -9.21274, -23.696, 1.24878, 4.28726, -12.946, 1.24878, 4.28726, -12.946, 1.24878, -9.21274, -23.696, 1.24878, -9.21274, -34.196, 1.24878, 4.28726, -23.696, 1.24878, 4.28726, -23.696, 1.24878, -9.21274, -34.196, 1.24878, -9.21274)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(11, 10, 9), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 16), PackedInt32Array(14, 16, 15), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 21), PackedInt32Array(19, 21, 20), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(29, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(33, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(37, 36, 34), PackedInt32Array(34, 36, 35)]

[sub_resource type="PlaneMesh" id="PlaneMesh_fooel"]
size = Vector2(86, 14.5)

[node name="SCN_Main" type="Node3D"]
script = ExtResource("1_dk0tg")

[node name="HUD" parent="." instance=ExtResource("2_62yup")]

[node name="NDE_city_system" parent="." instance=ExtResource("3_oxdsq")]

[node name="ENT_Player" parent="." instance=ExtResource("1_dbp7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.4532, 6.54513, 4.83862)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.279058, 0.960274, 0, -0.960274, 0.279058, 0, 17.8164, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ttq1c")

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -75, 0, 0)

[node name="PTH_Spawner" parent="." instance=ExtResource("4_32ley")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.29192, 0, -1.92143)
waves = Array[Resource("res://custom_resources/wave.gd")]([ExtResource("5_6w6nt"), ExtResource("6_hl5xh"), ExtResource("8_kx0xk"), ExtResource("9_g8l4i"), ExtResource("10_r2knn")])
rest_time_between_waves = 10.0

[node name="A3D_Despawner" parent="." instance=ExtResource("7_fcy4u")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -75.3467, 0, -4.78614)

[node name="valley_de_la_mort" parent="." instance=ExtResource("8_xrhlb")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="valley_de_la_mort"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.563362, 0, 0)
visible = false
navigation_mesh = SubResource("NavigationMesh_ffs7m")

[node name="MeshInstance3D" type="MeshInstance3D" parent="valley_de_la_mort/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.196, 0.748778, -2.46274)
mesh = SubResource("PlaneMesh_fooel")

[node name="NPC" type="Node3D" parent="."]

[node name="NPC_Mahaut" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36.0144, 5.64246, -10.9459)

[node name="NPC_Mahaut2" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.7449, 5.48661, -11.4913)

[node name="NPC_Mahaut3" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -37.9024, 5.58839, -10.9076)

[node name="NPC_Mahaut4" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.6079, 5.37793, -11.3964)

[node name="NPC_Mahaut5" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -42.3529, 5.16903, -12.1435)

[node name="NPC_Mahaut6" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.4504, 5.64246, -10.9459)

[node name="NPC_Mahaut7" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -48.1809, 5.48661, -11.4913)

[node name="NPC_Mahaut8" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -54.3385, 5.58839, -10.9076)

[node name="NPC_Mahaut9" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40.0439, 5.37793, -11.3964)

[node name="NPC_Mahaut10" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -58.7889, 5.16903, -12.1435)

[node name="NPC_Mahaut11" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.6443, 5.64246, 7.83332)

[node name="NPC_Mahaut12" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.3748, 5.48661, 7.28788)

[node name="NPC_Mahaut13" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.5323, 5.58839, 7.87158)

[node name="NPC_Mahaut14" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.2378, 5.37793, 7.38283)

[node name="NPC_Mahaut15" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35.9828, 5.16903, 6.63571)

[node name="NPC_Mahaut16" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -46.0804, 5.64246, 7.83332)

[node name="NPC_Mahaut17" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.8109, 5.48661, 7.28788)

[node name="NPC_Mahaut18" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -47.9684, 5.58839, 7.87158)

[node name="NPC_Mahaut19" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33.6739, 5.37793, 7.38283)

[node name="NPC_Mahaut20" parent="NPC" instance=ExtResource("13_kff1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.4189, 5.16903, 6.63571)
